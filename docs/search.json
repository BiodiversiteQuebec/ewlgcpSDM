[{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/articles/ewlgcpSDM.html","id":"introduction-to-ewlgcpsdm","dir":"Articles","previous_headings":"","what":"Introduction to ewlgcpSDM","title":"ewlgcpSDM","text":"ewlgcpSDM package inferring species distributions presence-data using effort-weighted Log-Gaussian Cox point process models. First, let’s install useful packages.","code":"library(rgbif) library(terra) library(sf) library(geodata) library(rmapshaper) library(INLA) library(rnaturalearth) # devtools::load_all('.') library(ewlgcpSDM)"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/articles/ewlgcpSDM.html","id":"define-study-area","dir":"Articles","previous_headings":"Introduction to ewlgcpSDM","what":"Define study area","title":"ewlgcpSDM","text":"first download polygons define study area help mapping later.","code":"# Downloads polygons using package geodata can <- gadm(\"CAN\", level = 1, path = getwd()) |>     st_as_sf() usa <- gadm(\"USA\", level = 1, path = getwd()) |>     st_as_sf() na <- rbind(can, usa) na <- st_transform(na, 32618)  # keep Québec and bordering provinces/states as a buffer region <- na[na$NAME_1 %in% c(\"Québec\", \"New Brunswick\", \"Maine\", \"Vermont\",     \"New Hampshire\", \"New York\", \"Ontario\"), ] # split NF into different polygons labrador <- ms_explode(na[na$NAME_1 %in% c(\"Newfoundland and Labrador\"),     ]) labrador <- labrador[which.max(st_area(labrador)), ]  # keep Labarador region <- rbind(region, labrador) qc <- ms_simplify(region, 0.01)  # Add it to the study region region<-rbind(region,labrador)  # Simplify polygons to make things faster region <- ms_simplify(region, 0.005) region <- st_union(region) |>     st_as_sf()  # lakes lakes <- ne_download(scale = \"medium\", type = \"lakes\", destdir = getwd(),     category = \"physical\", returnclass = \"sf\") |>     st_transform(32618) #> Reading layer `ne_50m_lakes' from data source  #>   `/home/frousseu/Documents/github/ewlgcpSDM/vignettes/ne_50m_lakes.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 412 features and 39 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: -165.8985 ymin: -50.62002 xmax: 176.0827 ymax: 81.94033 #> Geodetic CRS:  WGS 84 lakes <- st_filter(lakes, region)   plotQC <- function() {     # plotting function for the study area     par(mar = c(0, 0, 0, 0))     plot(st_geometry(qc), col = \"lemonchiffon2\")     plot(st_geometry(region), add = TRUE)     plot(st_geometry(lakes), col = \"white\", add = TRUE) } plotQC()"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/articles/ewlgcpSDM.html","id":"get-observations","dir":"Articles","previous_headings":"Introduction to ewlgcpSDM","what":"Get observations","title":"ewlgcpSDM","text":"get observations form GBIF, first provide polygon WKT format restrict observations study area. first need simplify polygon GBIF API accept (wkt < 1500 characters, unless geom_big specified).","code":"wkt <- st_union(st_buffer(region, 20000)) wkt <- ms_simplify(wkt, 0.005) wkt <- st_transform(wkt, 4326) wkt <- st_as_text(wkt)  obs <- rgbif::occ_data(scientificName = \"Picea mariana\", hasCoordinate = TRUE,     limit = 10000, geometry = wkt)$data rem <- which(obs$coordinateUncertaintyInMeters > 30000)  # removes locations with high uncertainty if (any(rem)) {     obs <- obs[-rem, ] } obs <- st_as_sf(as.data.frame(obs), coords = c(\"decimalLongitude\", \"decimalLatitude\"),     crs = 4326) obs <- st_transform(obs, st_crs(region))  plotQC() plot(st_geometry(obs), add = TRUE)"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/articles/ewlgcpSDM.html","id":"filter-observations","dir":"Articles","previous_headings":"Introduction to ewlgcpSDM > Get observations","what":"Filter observations","title":"ewlgcpSDM","text":"reduce observer effects, filter multiple observations species single observer given location. , keep single observation observer/cell 5 x 5 km grid.","code":"### remove observer/spatial duplicates keeps a single obs per ### observer/cell bb <- st_bbox(region) fg <- rast(ext(bb), resolution = 5000) values(fg) <- 1:ncell(fg) e <- terra::extract(fg, vect(obs)) dups <- duplicated(data.frame(cell = e[, 2], observer = obs$recordedBy)) table(dups) #> dups #> FALSE  TRUE  #>  2321   525 obs <- obs[!dups, ]"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/articles/ewlgcpSDM.html","id":"estimate-effort-surface","dir":"Articles","previous_headings":"Introduction to ewlgcpSDM > Get observations","what":"Estimate effort surface","title":"ewlgcpSDM","text":"density observations used background approximate effort surface. use density raster made numbers observations plant species within 1 x 1 km cells GBIF observations. raster hosted Biodiversite Québec.  convenience, instead directly using raster, simulate observation dataset using raster density surface. Finally, bind observations simulated observations obtain background used effort surface.","code":"gbif <- rast(\"https://object-arbutus.cloud.computecanada.ca/bq-io/io/gbif_heatmaps/gbif_plants_density_06-2022.tif\") gbif <- crop(gbif, vect(st_buffer(st_transform(region, 4326), 1))) gbif <- mask(gbif, vect(st_buffer(st_transform(region, 4326), 1))) gbif <- subst(gbif, NA, 0)  # replace NAs with 0 plot(log(aggregate(gbif, 10, fun = sum)), axes = FALSE) plot(st_geometry(st_transform(st_transform(region, 4326))), add = TRUE) ### Simulate effort surface/background obs from gbif density raster p <- spatSample(gbif, 50000, as.points = TRUE, method = \"weights\") tb <- st_as_sf(p) |>     st_transform(st_crs(region)) tb <- tb[, \"geometry\"] bg <- rbind(obs[, \"geometry\"], tb)"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/articles/ewlgcpSDM.html","id":"get-predictors","dir":"Articles","previous_headings":"Introduction to ewlgcpSDM","what":"Get predictors","title":"ewlgcpSDM","text":"Predictors taken BON Box stac-catalogue. first download subset predictors project common raster 2 x 2 km resolution. See https://io.biodiversite-quebec.ca/stac/ list possibilities.","code":"deciduous <- crop(rast(\"https://object-arbutus.cloud.computecanada.ca/bq-io/io/earthenv/landcover/consensus_full_class_3.tif\"),     vect(st_transform(region, 4326)))  crops <- crop(rast(\"https://object-arbutus.cloud.computecanada.ca/bq-io/io/earthenv/landcover/consensus_full_class_7.tif\"),     vect(st_transform(region, 4326)))  maxtemp <- crop(rast(\"https://object-arbutus.cloud.computecanada.ca/bq-io/io/CHELSA/climatologies/CHELSA_bio5_1981-2010_V.2.1.tif\"),     vect(st_transform(region, 4326)))  bb <- st_bbox(region) predictors <- rast(ext(bb), resolution = 2000, crs = crs(region))  deciduous <- project(deciduous, predictors) crops <- project(crops, predictors) maxtemp <- project(maxtemp, predictors)  predictors <- c(deciduous, crops, maxtemp) names(predictors) <- c(\"deciduous\", \"crops\", \"maxtemp\")"},{"path":[]},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/articles/ewlgcpSDM.html","id":"build-mesh","dir":"Articles","previous_headings":"Introduction to ewlgcpSDM > Prepare for modeling","what":"Build mesh","title":"ewlgcpSDM","text":"First, delineate non-convex hull around study area use create INLA mesh. create INLA mesh study area. use coarse resolution mesh edges corresponding approximately 1% study area diameter relatively large outer area reducing edge effects. See virgilio advices creating good mesh.","code":"domain <- st_sample(st_buffer(region, 5000), 5000) domain <- inla.nonconvex.hull(st_coordinates(domain), convex = -0.015,     resolution = 75) pedge<-0.01 edge<-min(c(diff(st_bbox(region)[c(1,3)])*pedge,diff(st_bbox(region)[c(2,4)])*pedge)) edge #> [1] 25808.77  mesh <- inla.mesh.2d(loc.domain = NULL,                      max.edge = c(edge,edge*3),                      min.angle = 21,                      cutoff = edge/1,                      offset = c(edge,edge*3),                      boundary = domain,#inla.mesh.segment(domainloc),                      crs = st_crs(region))"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/articles/ewlgcpSDM.html","id":"create-dual-mesh","dir":"Articles","previous_headings":"Introduction to ewlgcpSDM > Prepare for modeling","what":"Create dual mesh","title":"ewlgcpSDM","text":"INLA mesh, create dual mesh. add subsequent element params object list objects required modeling.","code":"# plan(multicore,workers=3) params <- dmesh_mesh(mesh)"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/articles/ewlgcpSDM.html","id":"compute-weights","dir":"Articles","previous_headings":"Introduction to ewlgcpSDM > Prepare for modeling","what":"Compute weights","title":"ewlgcpSDM","text":"compute weight cell dual mesh (related area).","code":"params <- dmesh_weights(params, region)"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/articles/ewlgcpSDM.html","id":"summarize-predictors","dir":"Articles","previous_headings":"Introduction to ewlgcpSDM > Prepare for modeling","what":"Summarize predictors","title":"ewlgcpSDM","text":"Next, summarize predictors cell dual mesh. values also scaled modeling.","code":"params <- dmesh_predictors(params, predictors)  dm <- params$dmesh dm$deciduous <- params$predictors$deciduous plot(dm[, \"deciduous\"], border = NA, nbreaks = 100, pal = function(x) {     rev(terrain.colors(x)) }, reset = FALSE, key.pos = NULL) plot(st_geometry(qc), border = adjustcolor(\"black\", 0.25), add = TRUE) plot(st_geometry(lakes), col = \"white\", border = adjustcolor(\"black\", 0.25),     add = TRUE)"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/articles/ewlgcpSDM.html","id":"summarize-observations-and-effort","dir":"Articles","previous_headings":"Introduction to ewlgcpSDM > Prepare for modeling","what":"Summarize observations and effort","title":"ewlgcpSDM","text":"summarizing observations, first create 500 km buffer around locations outside add fictious effort suggesting species found. avoid predicting high relative abundances areas species found. buffer optional values arbitrary can adapted specific situations.  can sum cell dual mesh observations species background.","code":"buff <- st_buffer(obs, 250000) |>     st_union() plotQC() plot(st_geometry(buff), add = TRUE) plot(st_geometry(obs), add = TRUE) params <- dmesh_effort(params, obs = obs, background = bg, buffer = buff,     adjust = FALSE)"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/articles/ewlgcpSDM.html","id":"run-model","dir":"Articles","previous_headings":"Introduction to ewlgcpSDM","what":"Run model","title":"ewlgcpSDM","text":"model can now ran. , fix standard deviation spatial effect low value equivalent removing spatial component model. model becomes simple inhomogeneous point process weighted effort.","code":"m<-ewlgcp(   formula=y~deciduous+deciduous2+crops+crops2+maxtemp+maxtemp2,   dmesh=params,   effort = TRUE,   adjust = FALSE,   buffer = TRUE,   orthogonal = TRUE,   prior.beta = NULL,   prior.range = c(5000, 0.01),   prior.sigma = c(0.00001, NA),   smooth = 2,   num.threads=2:2,   control.inla=list(     strategy=\"adaptive\", # \"adaptive\"     int.strategy=\"eb\", # \"eb\"     huge=FALSE, # apparently ignored     control.vb=list(       enable=TRUE,       verbose=TRUE     )   ),# adaptive, eb   inla.mode=\"experimental\",   control.compute=list(config=TRUE,openmp.strategy=\"pardiso\"),   verbose=TRUE,   safe=FALSE )"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/articles/ewlgcpSDM.html","id":"map-results","dir":"Articles","previous_headings":"Introduction to ewlgcpSDM","what":"Map results","title":"ewlgcpSDM","text":"map function produce intensity raster along different uncertainty measures spatial component. can finally map intensity (sdm) along uncertainty link scale.","code":"sdm <- ewlgcpSDM::map(model = m, dmesh = params, dims = c(1500, 1500),     region = region) #> Warning in fm_crs_bounds(crs, warn.unknown = TRUE): Could not determine shape #> of transformation bounds. Using infinite rectangle.  sdm <- mask(sdm, vect(region)) crs(sdm) <- crs(region) add_shp <- function() {     plot(st_geometry(qc), border = adjustcolor(\"black\", 0.25), add = TRUE)     plot(st_geometry(lakes), col = \"white\", border = NA, add = TRUE)     plot(st_geometry(obs), cex = 0.1, add = TRUE) }  plg <- list(size = c(1, 0.5), cex = 0.75, adj = c(10, 10))  par(mfrow = c(1, 2), mar = c(0, 0, 0, 0)) plot(sdm$mean, main = \"Intensity\", axes = F, plg = plg, mar = c(0, 0, 0,     3)) add_shp() plot(sdm$linksd, main = \"SD on the link scale\", axes = F, plg = plg, mar = c(0,     0, 0, 3)) add_shp() par(mfrow = c(1, 1), mar = c(4, 4, 3, 3))"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Guillaume Blanchet. Author. François Rousseu. Author, maintainer.","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Blanchet G, Rousseu F (2024). ewlgcpSDM: Effort-Weighted Log Gaussian Cox Process Species Distribution Model. R package version 0.0.0.1000, https://github.com/BiodiversiteQuebec/ewlgcpSDM, https://biodiversitequebec.github.io/ewlgcpSDM/.","code":"@Manual{,   title = {ewlgcpSDM: Effort-Weighted Log Gaussian Cox Process Species Distribution Model},   author = {Guillaume Blanchet and François Rousseu},   year = {2024},   note = {R package version 0.0.0.1000, https://github.com/BiodiversiteQuebec/ewlgcpSDM},   url = {https://biodiversitequebec.github.io/ewlgcpSDM/}, }"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/index.html","id":"ewlgcpsdm","dir":"","previous_headings":"","what":"Effort-Weighted Log Gaussian Cox Process Species Distribution Model","title":"Effort-Weighted Log Gaussian Cox Process Species Distribution Model","text":"ewlgcpSDM (effort-weighted Log-Gaussian Cox Process species distribution models) package inferring species distributions using presence-data point process models. particular, implements Log-Gaussian Cox process adjusts sampling effort weighting thinned surface estimate effort. effort surface derived method analogous Target-Group Background selection Phillips et al. 2009, whereas sampling effort approximated grouping observations target group similar species. implementation adapted method proposed Simpson et al. (2016) using INLA (Rue et al. 2009). results upcoming paper can seen .","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Effort-Weighted Log Gaussian Cox Process Species Distribution Model","text":"First, INLA (CRAN) installed (see instructions) : , ewlgcpSDM can installed directly GitHub like :","code":"install.packages(\"INLA\",repos=c(getOption(\"repos\"),INLA=\"https://inla.r-inla-download.org/R/stable\"), dep=TRUE) remotes::install_github(\"BiodiversiteQuebec/ewlgcpSDM\")"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Effort-Weighted Log Gaussian Cox Process Species Distribution Model","text":"Phillips, S. J., Dudík, M., Elith, J., Graham, C. H., Lehmann, ., Leathwick, J. Ferrier, S. 2009. Sample selection bias presence-distribution models: implications background pseudo-absence data. Ecological Applications, 19(1): 181-197 https://doi.org/10.1890/07-2153.1 Rue, H., Martino, S. Chopin, N. 2009. Approximate Bayesian Inference Latent Gaussian models using Integrated Nested Laplace Approximations, Journal Royal Statistical Society Series B: Statistical Methodology, 71(2): 319–392 https://doi.org/10.1111/j.1467-9868.2008.00700.x Simpson, D., Illian, J. B., Lindgren, F., Sørbye, S. H. Rue, H. 2016. Going grid: computationally efficient inference log-Gaussian Cox processes. Biometrika, 103(1): 49-70 https://doi.org/10.1093/biomet/asv064","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_effort.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize effort to dual mesh — dmesh_effort","title":"Summarize effort to dual mesh — dmesh_effort","text":"function summarizes effort dual mesh.","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_effort.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize effort to dual mesh — dmesh_effort","text":"","code":"dmesh_effort(   dmesh,   obs,   background,   adjust = FALSE,   buffer = NULL,   nsimeff = 20 )"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_effort.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize effort to dual mesh — dmesh_effort","text":"dmesh dual mesh sf object obs sf spatial data.frame observations target species background sf data.frame observations target group terra raster sum observations target group pixel. adjust Whether adjust effort species-specific. Default FALSE. adjust = TRUE, column named \\\"species\\\" species name must present background data.frame. Currently ignored species column given background raster. buffer sf polygon used buffer around locations prevent extrapolation outside species range. Dual mesh cells without effort outside buffer assigned effort value force model predictions toward 0. nsimeff Effort value assign cells outside buffer. integer representing number background observations. ... Arguments passed inla","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_effort.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize effort to dual mesh — dmesh_effort","text":"list element effort data.frame summarizing number observations various effort measures cell dual mesh. Depending options chosen, data.frame contain following: nobs : number observations nbackground : number background observations target group npres : whether species present cell (1 = present, 0 = absent) nsp : number species cell nbackgroundwithbuff : nbackground fictious observations added using effort buffer nbackgroundspadjusted : nbackground species-specific adjustment nbackgroundspadjustedwithbuff : nbackground species-specific adjustment fictious observations added using effort buffer","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_effort.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Summarize effort to dual mesh — dmesh_effort","text":"Either sf spatial object points raster can used. raster, empty cells filled 0.","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_effort.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Summarize effort to dual mesh — dmesh_effort","text":"Simpson, D. Illian, J. B., Lindgren, F. Sørbye, S. H. Rue, H. 2016. Going grid: computationally efficient inference log-Gaussian Cox processes. Biometrika, 103(1): 49-70 https://doi.org/10.1093/biomet/asv064","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_mesh.html","id":null,"dir":"Reference","previous_headings":"","what":"From INLA mesh to dual mesh — dmesh_mesh","title":"From INLA mesh to dual mesh — dmesh_mesh","text":"function constructs dual mesh standard INLA mesh.","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_mesh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"From INLA mesh to dual mesh — dmesh_mesh","text":"","code":"dmesh_mesh(mesh)"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_mesh.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"From INLA mesh to dual mesh — dmesh_mesh","text":"mesh INLA mesh object","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_mesh.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"From INLA mesh to dual mesh — dmesh_mesh","text":"dual mesh sf MULTIPOLYGONS object","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_mesh.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"From INLA mesh to dual mesh — dmesh_mesh","text":"Parallelization can enabled choosing plan future package mesh splitted chunks detemined number workers. forget reset plan sequential done.","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_predictors.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize predictors to dual mesh — dmesh_predictors","title":"Summarize predictors to dual mesh — dmesh_predictors","text":"function summarizes predictors dual mesh. Predictors assumed numerical values.","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_predictors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize predictors to dual mesh — dmesh_predictors","text":"","code":"dmesh_predictors(dmesh, predictors)"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_predictors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize predictors to dual mesh — dmesh_predictors","text":"dmesh dual mesh predictors SpatRaster predictor values. processing parallel, SpatRastre needs wrapped using terra::wrap.","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_predictors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize predictors to dual mesh — dmesh_predictors","text":"list element predictors added data.frame predictor values.","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_predictors.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Summarize predictors to dual mesh — dmesh_predictors","text":"Parallelization can enabled choosing plan future package mesh splitted chunks detemined number workers. forget reset plan sequential done. predictors cover extent dual mesh, empty cells filled value nearest neighbour cell.","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_weights.html","id":null,"dir":"Reference","previous_headings":"","what":"Dual Mesh Weights — dmesh_weights","title":"Dual Mesh Weights — dmesh_weights","text":"Computes dual mesh weights integration point process","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_weights.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Dual Mesh Weights — dmesh_weights","text":"","code":"dmesh_weights(dmesh, region)"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_weights.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Dual Mesh Weights — dmesh_weights","text":"dmesh Dual mesh region region","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_weights.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Dual Mesh Weights — dmesh_weights","text":"list element weights containing vector areas cell within region area","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_weights.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Dual Mesh Weights — dmesh_weights","text":"none","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/dmesh_weights.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Dual Mesh Weights — dmesh_weights","text":"none","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/ewlgcp.html","id":null,"dir":"Reference","previous_headings":"","what":"Effort-Weighted Log Gaussian Cox Process SDM — ewlgcp","title":"Effort-Weighted Log Gaussian Cox Process SDM — ewlgcp","text":"Runs effort-weighted Log Gaussian Cox Process species distribution model","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/ewlgcp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Effort-Weighted Log Gaussian Cox Process SDM — ewlgcp","text":"","code":"ewlgcp(   formula,   dmesh,   effort = TRUE,   adjust = TRUE,   buffer = TRUE,   orthogonal = TRUE,   prior.beta = NULL,   prior.range = c(50, 0.1),   prior.sigma = c(1, 0.1),   smooth = 3/2,   ... )"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/ewlgcp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Effort-Weighted Log Gaussian Cox Process SDM — ewlgcp","text":"formula formula form y ~ x1 + x2 + .... dmesh list elements produced different dmesh_ functions. effort Logical. Whether adjust model effort. Default TRUE. adjust Logical. Whether adjust effort species specific. Default TRUE. buffer Logical. Whether add effort buffer help reducing prediction outside species range. Default TRUE. orthogonal Logical. Whether make spatial field orthogonal predictors? Default TRUE. prior.beta Normal priors betas fixed effects coefficients required INLA. Default list(prec=list(default=1/(1)^2,Intercept=1/(20)^2),mean=list(default=0,Intercept=0)) means prior mean = 0 sd = 1 coefficients prior mean = 0 sd = 20 model intercept. See ?control.fixed. prior.range Penalized complexity prior range spatial field. vector length two giving probability range inferior given value. default prior.range = c(50, 0.01) represents 1% chance range inferior 50 (units crs used). prior.sigma Penalized complexity prior standard deviation (sd) spatial field. vector length two giving probability sd superior given value. default prior.sigma = c(1, 0.01) represents 1% chance range superior 1. smooth x ... arguments pass inla","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/ewlgcp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Effort-Weighted Log Gaussian Cox Process SDM — ewlgcp","text":"model class INLA.","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/ewlgcp.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Effort-Weighted Log Gaussian Cox Process SDM — ewlgcp","text":"none","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/ewlgcp.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Effort-Weighted Log Gaussian Cox Process SDM — ewlgcp","text":"Simpson, D. Illian, J. B., Lindgren, F. S, S. H. Rue, H. 2016. Going grid: computationally efficient inference log-Gaussian Cox processes. Biometrika, 103(1): 49-70 https://doi.org/10.1093/biomet/asv064 Fuglstad, G.-., Simpson, D., Lindgren, F. & Rue, H. 2019 Constructing Priors Penalize Complexity Gaussian Random Fields. Journal American Statistical Association, 114(525): 445-452 https://doi.org/10.1080/01621459.2017.1415907","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/map.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct species distribution maps models — map","title":"Construct species distribution maps models — map","text":"Constructs mean, standard deviation, quantile (0.025, 0.5 0.975) maps models calculated using uniSpace ppSpace","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct species distribution maps models — map","text":"","code":"map(model, dmesh, dims, region = NULL, sample = FALSE, nsamples = 100)"},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/map.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct species distribution maps models — map","text":"model object class ppSpace class uniSpace. dmesh dmesh list dims vector length 2 defining number pixels use rows columns define map. region spatial polygon isolate region interest. none given, map drawn entire region covered mesh. sample Logical. Whether sample posterior distribution cell using INLA's inla.posterior.sample. Returns raster stack sample along types specified. Default FALSE. Currently ignored. nsamples Integer. Number samples draw posterior. Ignored sample = FALSE.","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct species distribution maps models — map","text":"terra raster model predictions uncertainty layers","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/map.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Construct species distribution maps models — map","text":"none","code":""},{"path":"https://biodiversitequebec.github.io/ewlgcpSDM/reference/map.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Construct species distribution maps models — map","text":"none","code":""}]
